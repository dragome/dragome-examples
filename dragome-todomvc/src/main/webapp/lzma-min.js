//! Â© 2015 Nathan Rugg <nmrugg@gmail.com> | MIT
"undefined"==typeof Worker||"undefined"!=typeof location&&"file:"===location.protocol?"undefined"!=typeof global&&"undefined"!=typeof require?this.LZMA=function(n){return require(n||"./lzma_worker-min.js").LZMA}:"undefined"!=typeof window&&window.document?!function(){function n(n){var o;return t(n),o={compress:function(n,t,r,i){e.LZMA_WORKER?e.LZMA_WORKER.compress(n,t,r,i):setTimeout(function(){o.compress(n,t,r,i)},50)},decompress:function(n,t,r){e.LZMA_WORKER?e.LZMA_WORKER.decompress(n,t,r):setTimeout(function(){o.decompress(n,t,r)},50)}}}var e,o=this,t=function(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,t.onload=function(){o.LZMA=n},document.getElementsByTagName("head")[0].appendChild(t)};"undefined"!=typeof window?e=window:global&&(e=global),o.LZMA=n}():console.log("Can't load the worker. Sorry."):this.LZMA=function(n){var e=1,o=2,t=3,r={},i=new Worker(n||"./lzma_worker-min.js");return i.onmessage=function(n){n.data.action===t?r[n.data.cbn]&&"function"==typeof r[n.data.cbn].on_progress&&r[n.data.cbn].on_progress(n.data.result):r[n.data.cbn]&&"function"==typeof r[n.data.cbn].on_finish&&(r[n.data.cbn].on_finish(n.data.result),delete r[n.data.cbn])},i.onerror=function(n){throw Error(n.message+" ("+n.filename+":"+n.lineno+")")},function(){function n(n,e,o,t,a){var c;do c=Math.floor(1e7*Math.random());while(void 0!==r[c]);r[c]={on_finish:t,on_progress:a},i.postMessage({action:n,cbn:c,data:e,mode:o})}return{compress:function(o,t,r,i){n(e,o,t,r,i)},decompress:function(e,t,r){n(o,e,!1,t,r)}}}()};